# 更新日志

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)

## 2.2.0 (2026-02-04)

全站国际化支持，实施分支策略与数据分离，重构友链页面与博客索引，持续优化视觉体验与 SEO

### 新增

- **国际化**: 全站文本提取与 i18n 支持，新增语言切换功能
- **分支策略**: 实施数据分离，`main` 分支仅保留测试与预览数据，个人数据独立维护
- **友链系统**: 重构友链数据结构，支持“可访问”与“无法访问”状态分类
- **博客索引**: 引入全新博客索引生成机制，提升文章列表加载效率
- **分类别名**: 为博客分类引入 slug 字段，优化 URL 语义化

### 优化

- **视觉体验**:
  - 优化 Header 按钮悬停交互，增强顶部导航动态效果
  - 调整 GitHub 项目卡片内边距，移除多余留白
  - 优化 TimeCapsule 组件在英文模式下的排版布局
  - 统一 Blockquote 引用块字体大小，防止嵌套时字号失控
  - 优化 Header 导航栏居中布局与 MainContent 顶部间距适配
- **阅读排版**: 规范化文章正文、标题与代码块的垂直间距 (`reader.css`)
- **SEO**: 优化 Sitemap 生成策略，集成博客文章数据并处理旧站点 301 重定向

### 修复

- **交互逻辑**: 修复足迹地图 (Footprint) 因层级问题导致的不可交互 bug
- **路由导航**:
  - 修复多级分类路径匹配失效的问题
  - 解决博客导航过程中的异步消息通道关闭错误
- **系统稳定性**:
  - 修复 SSR 环境下壁纸 API 请求导致的 DNS 解析异常
  - 修正 Markdown 文章文件名与 slug 不一致的问题
  - 修复组件状态捕获导致的编译器警告

## 2.1.0 (2026-02-02)

优化博客架构，新增 RSS 支持，改善侧边栏交互与 SEO

### 新增

- **RSS 支持**: 生成全站 RSS XML 订阅源 (`/blog/rss.xml/`)
- **视图切换**: 在年份归档与标签归档间切换，引入 `SegmentedControl` 组件
- **路由匹配**: 支持多分类路径匹配、标签过滤及 URL 尾部斜杠规范化
- **色彩方案**: 为 MTR 车站引入更真实的马赛克色彩方案

### 优化

- **系统架构**: 重构博客组件，拆分为 `BlogHome`、`BlogViewer`、`Sidebar` 等子模块
- **数据管理**: 采用统一的 `all.json` 数据源，提升加载一致性
- **SEO 增强**: 完善 JSON-LD 结构化数据，优化分类与标签页面的元描述
- **状态管理**: 增强 `SidebarState` 与 `HeaderState` 的响应式联动

### 修复

- 修复深层链接下博客分类路径匹配失效的问题
- 修复路由快速切换时侧边栏状态丢失的问题
- 修复 `LiquidGlass` 在特定模式下的重绘问题

## 2.0.0 (2026-01-31)

全面重构系统架构，引入自动化内容管理，优化性能与 SEO

### 新增

- **自动化博客**: 引入 Markdown 驱动工作流新增 `vite-plugin-blog-watcher` 插件与 `generate-blog-index.js` 脚本
- **模块化重构**: 按功能拆分 `src/lib`
- **站点地图**: 动态生成 `sitemap.xml`
- **特性增强**: `LiquidGlass` 新增不透明模式；`MosaicInfo` 支持 MTR 图标

### 优化

- **渲染性能**:
  - 使用 HTML5 Canvas 重构 Mosaic 核心
  - 为 `LiquidGlass` 引入 `lazyBlur` 延迟模糊技术
- **交互体验**:
  - 优化 `MainContent` 间距切换动画
  - 改进移动端页眉/页脚遮罩算法
- **代码规范**: 完成全量简体中文注释与 JSDoc 标准化
- **资源同步**: 优化字体加载；同步足迹、友链、支付等配置文件

### 修复

- 修复 `Copyright` 组件背景显示故障
- 修复移动端导航菜单适配问题
- 解决窄屏下按钮自动换行导致的布局抖动

## 1.1.0 (2026-01-25)

重构核心组件，优化移动端导航，完善文档

### 新增

- **UI 组件**: 统一头部按钮样式的 `HeaderActionButton`；支持多种特效的 `TextEffect`；支持自动滚动的 `AutoScroll`
- **字体优化**: 整合 `MiSans` 字体定义
- **管理工具**: 新增脚本目录与版本管理工具

### 优化

- **视觉性能**: 重构 `LiquidGlass`，强制开启硬件加速
- **布局调整**: 优化 `MobileNav` 路由分布算法
- **代码复用**: 抽离 `HeaderActions` 通用逻辑
- **文档完善**: 补充中文注释与目录结构说明

### 修复

- 修复 `Copyright` 样式细节
- 修复模块导入路径与类型定义
- 修复 PC 版文章加载时的锚点定位问题

## 1.0.0 (2026-01-25)

项目初始化，建立核心架构与多语言支持
